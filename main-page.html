<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MARS SPACE</title>
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="./imgs/logo--circle.svg" type="image/x-icon">
    <link rel="stylesheet"href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>
<body>
    <section class="container">
        <header>
            <div class="navbar">
                <a href="./main-page.html">
                <div class="logo">
                    <img width="158px" height="34px" src="./imgs/logo.png" alt="">
                </div>
                </a>
                <div class="navbar-right">
                    <div class="streak-modal">
                        <img width="24px" height="24px" src="./imgs/strike.svg" alt="">
                        <span>365</span>
                    </div>
                    <div class="streak-content">
                        <span class="streak-content__arrow"></span>
                        <div class="streak-first-text">
                        <h2>Streak</h2>
                        <p>Spacedan har kuni muntazam foydalanib boring</p>
                        </div>
                        <div class="streak-content-prnt">
                            <div class="streak-content-card">
                                <img width="32px" height="32px" src="./imgs/strike.svg" alt="">
                                <span>Dush</span>
                            </div>
                            <div class="streak-content-card">
                                <img width="32px" height="32px" src="./imgs/strike.svg" alt="">
                                <span>Sesh</span>
                            </div>
                            <div class="streak-content-card">
                                <img width="32px" height="32px" src="./imgs/strike.svg" alt="">
                                <span>Chor</span>
                            </div>
                            <div class="streak-content-card">
                                <img width="32px" height="32px" src="./imgs/strike.svg" alt="">
                                <span>Pay</span>
                            </div>
                            <div class="streak-content-card">
                                <img width="32px" height="32px" src="./imgs/strike.svg" alt="">
                                <span>Jum</span>
                            </div>
                            <div class="streak-content-card">
                                <img width="32px" height="32px" src="./imgs/strike.svg" alt="">
                                <span>Shan</span>
                            </div>
                            <div class="streak-content-card">
                                <img width="32px" height="32px" src="./imgs/strike.svg" alt="">
                                <span>Yak</span>
                            </div>
                           </div>
                           <div class="Beydjik-content-prnt">
                            <img width="57px" height="64px" src="./imgs/Beydjik.png" alt="Beydjik">
                            <div class="Beydjik-text">
                                <h3>Beydjik qo'lga kiriting!</h3>
                                <p>Spacedan har kuni muntazam ravishda foydalanib streaklar yig'ing va beydjiklarni qo'lga kiriting!</p>
                           </div>
                           </div>
                        </div>
                    <div class="amount-card coin">
                        <img width="20px" height="20px" src="./imgs/Coin.svg" alt="">
                        <div id="coinsSumDisplay"><svg width="20" height="20" stroke="#fc6736" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><style>.spinner_V8m1{transform-origin:center;animation:spinner_zKoa 2s linear infinite}.spinner_V8m1 circle{stroke-linecap:round;animation:spinner_YpZS 1.5s ease-in-out infinite}@keyframes spinner_zKoa{100%{transform:rotate(360deg)}}@keyframes spinner_YpZS{0%{stroke-dasharray:0 150;stroke-dashoffset:0}47.5%{stroke-dasharray:42 150;stroke-dashoffset:-16}95%,100%{stroke-dasharray:42 150;stroke-dashoffset:-59}}</style><g class="spinner_V8m1"><circle cx="12" cy="12" r="9.5" fill="none" stroke-width="3"></circle></g></svg></div>
                    </div>
                    <div class="CoinModal">
                        <span class="Coin__arrow"></span>
                        <div class="coinModalContent">
                    <div class="month-name-prnt" style="display: none;">
                    <button onclick="prevMonth()" class="prev"><i class="fa-solid fa-chevron-left"></i></button>
                    <h2 id="month-name"></h2>
                    <button onclick="nextMonth()" class="next"><i class="fa-solid fa-chevron-right"></i></button>
                    </div>
                    <div class="coin-list">
                    <div style="text-align:center; color:gray; padding:20px;">
                      Hali hech qanday ma’lumot yo‘q
                    </div>
                    </div> 
                    </div>
                    </div>
                    <div class="amount-card flash">
                        <img width="12px" height="12px" src="./imgs/flash.png" alt="">
                        <span>3000</span>
                    </div>
                    <button class="subscribe-btn">Obuna bo'ling <span class="shine"></span></button>
                    <i class="fa-regular fa-bell text notification-bell"></i>
                    <div class="profile modal content">
                        <img src="./imgs/image.png" alt="">
                    </div>
                </div>
            </div>
        </header>
        <div class="default-notification-of-coin">
            <div class="df-coin-hdr">
            <button class="close-df-coin-btn cursor-pointer"><i class="fa-solid fa-xmark close-df-coin"></i></button>
            </div>
            <div class="df-coin-body">
                <img width="80" src="./imgs/Coin.svg" alt="">
                <div class="flex items-center mt-5"><p class="font-bold text-center text-titleBlue">Siz coin oldingiz: <div id="coinsValueDisplay" class="ml-2 font-bold text-center"><svg class="spinner" width="26" height="26" stroke="rgb(14 13 93)" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><style>.spinner_V8m1{transform-origin:center;animation:spinner_zKoa 2s linear infinite}.spinner_V8m1 circle{stroke-linecap:round;animation:spinner_YpZS 1.5s ease-in-out infinite}@keyframes spinner_zKoa{100%{transform:rotate(360deg)}}@keyframes spinner_YpZS{0%{stroke-dasharray:0 150;stroke-dashoffset:0}47.5%{stroke-dasharray:42 150;stroke-dashoffset:-16}95%,100%{stroke-dasharray:42 150;stroke-dashoffset:-59}}</style><g class="spinner_V8m1"><circle cx="12" cy="12" r="9.5" fill="none" stroke-width="3"></circle></g></svg></div></p></div>
            </div>
            <div class="df-coin-footer">
                <button class="py-2 mt-5 w-full font-bold text-center text-white rounded-md close-df-coin-btn-2">Tushunarli</button>
            </div>
        </div>
        <div class="Premium-modal">
            <div class="premium-hdr-title">
            <h2>Space Premium</h2>
            <button class="close-prem-btn"><i class="fa-solid fa-xmark close-premium"></i></button>
            </div>
            <div class="premium-chracter-prnt">
            <div class="sparkle-wrapper"><img class="premium-character" src="./imgs/Premium-character.png" alt=""></div>
            </div>
            <div class="features-container">
                <div class="feature-item">
                    <div class="feature-icon-container">
                        <i data-v-765cdd04="" class="fas fa-user-check feature-icon"></i>
                    </div>
                    <div class="feature-content">
                        <h4>Davomat uchun 4 coin</h4>
                        <p>Davomat uchun 2 karra ko'proq coin olish imkoniyat</p>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon-container">
                        <i data-v-765cdd04="" class="fas fa-code feature-icon"></i>
                    </div>
                    <div class="feature-content">
                        <h4>Unlimited MarsCode</h4>
                        <p>Masalalarni yechib 60 coingacha qo'lga kirita olasiz</p>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon-container">
                        <i data-v-765cdd04="" class="fa-solid fa-clapperboard feature-icon"></i>
                    </div>
                    <div class="feature-content">
                        <h4>Eduverse</h4>
                        <p>Har bir online kursni o'qib 80 coingacha qo'lga kirita olasiz</p>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon-container">
                        <i data-v-765cdd04="" class="fa-solid fa-wand-magic-sparkles feature-icon"></i>
                    </div>
                    <div class="feature-content">
                        <h4>Marsiana</h4>
                        <p>Vazifalarni AI assistentingiz bilan qiziqarliroq bajarish</p>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon-container">
                        <i data-v-765cdd04="" class="fa-solid fa-circle-check feature-icon"></i>
                    </div>
                    <div class="feature-content">
                        <h4>Premium nishoni</h4>
                        <p>Premiumga obuna bo'lganingizni ko'rsatuvchi ismingiz yonidagi ekskluziv belgi</p>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon-container">
                        <i data-v-765cdd04="" class="fa-solid fa-shirt feature-icon"></i>
                    </div>
                    <div class="feature-content">
                        <h4>Exclusive Skin</h4>
                        <p>Ekslyuziv skinlar, faqat premium foydalanuvchilari uchun</p>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon-container">
                        <i data-v-765cdd04="" class="fa-solid fa-keyboard feature-icon"></i>
                    </div>
                    <div class="feature-content">
                        <h4>Unlimited SpaceTyping</h4>
                        <p>Typing tezligingizni oshirish uchun ko'proq imkoniyat</p>
                    </div>
                </div>
                <div class="feature-item">
                    <div class="feature-icon-container">
                        <i data-v-765cdd04="" class="fa-solid fa-newspaper feature-icon"></i>
                    </div>
                    <div class="feature-content">
                        <h4>Unlimited SpaceBlog</h4>
                        <p>Do'stlaringiz bilan qiziqarli postlar ulashish imkoniyati</p>
                    </div>
                </div>
            </div>
            <div class="premium-footer">
            <button class="get-premium-btn">Oyiga 299 <img width="20px" src="./imgs/Coin.svg" alt="">evasiga obuna bo'lish<span class="shine"></span></button>
            </div>
        </div>
        <div class="overlay"></div>
        <div class="notifications-modal">
          <span class="Notifications__arrow"></span>
          <div class="noti-text">
            <h2>Bildirishnomalar</h2>
          </div>
          <div class="notifications-prnt-of-item" id="notificationsContainer">
            <!-- Сюда будут добавляться уведомления из Firebase -->
          </div>
        </div>
        <div class="profile-modal">
            <span class="profile__arrow"></span>
            <a href="./student-profile.html">
            <div class="User-name-prnt">
                <div class="profile">
                    <img src="./imgs/image.png" alt="">
                </div>
                <h2 class="User-name">Azizbek Ubaydullayev</h2>
            </div>
            </a>
            <div class="attendance"><img width="22" src="./imgs/attendance.svg" alt=""> Davomat</div>
            <div class="select-language"><img width="22" src="./imgs/lang-icon.svg" alt=""> O'zbekcha</div>
            <div class="logOut"><img width="22" src="./imgs/logout-icon.svg" alt=""> Platformadan chiqish</div>
            <div class="streak-modal">
                <img width="24px" height="24px" src="./imgs/strike.svg" alt="">
                <span>365</span>
            </div>
            <div class="streak-content">
                <span class="streak-content__arrow"></span>
                <div class="streak-first-text">
                <h2>Streak</h2>
                <p>Spacedan har kuni muntazam foydalanib boring</p>
                </div>
                <div class="streak-content-prnt">
                    <div class="streak-content-card">
                        <img width="32px" height="32px" src="./imgs/strike.svg" alt="">
                        <span>Dush</span>
                    </div>
                    <div class="streak-content-card">
                        <img width="32px" height="32px" src="./imgs/strike.svg" alt="">
                        <span>Sesh</span>
                    </div>
                    <div class="streak-content-card">
                        <img width="32px" height="32px" src="./imgs/strike.svg" alt="">
                        <span>Chor</span>
                    </div>
                    <div class="streak-content-card">
                        <img width="32px" height="32px" src="./imgs/strike.svg" alt="">
                        <span>Pay</span>
                    </div>
                    <div class="streak-content-card">
                        <img width="32px" height="32px" src="./imgs/strike.svg" alt="">
                        <span>Jum</span>
                    </div>
                    <div class="streak-content-card">
                        <img width="32px" height="32px" src="./imgs/strike.svg" alt="">
                        <span>Shan</span>
                    </div>
                    <div class="streak-content-card">
                        <img width="32px" height="32px" src="./imgs/strike.svg" alt="">
                        <span>Yak</span>
                    </div>
                   </div>
                   <div class="Beydjik-content-prnt">
                    <img width="57px" height="64px" src="./imgs/Beydjik.png" alt="Beydjik">
                    <div class="Beydjik-text">
                        <h3>Beydjik qo'lga kiriting!</h3>
                        <p>Spacedan har kuni muntazam ravishda foydalanib streaklar yig'ing va beydjiklarni qo'lga kiriting!</p>
                   </div>
                   </div>
                </div>
            <div class="amount-card coin">
                <img width="20px" height="20px" src="./imgs/Coin.svg" alt="">
                 <div id="coinsSumDisplay"><svg width="20" height="20" stroke="#fc6736" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><style>.spinner_V8m1{transform-origin:center;animation:spinner_zKoa 2s linear infinite}.spinner_V8m1 circle{stroke-linecap:round;animation:spinner_YpZS 1.5s ease-in-out infinite}@keyframes spinner_zKoa{100%{transform:rotate(360deg)}}@keyframes spinner_YpZS{0%{stroke-dasharray:0 150;stroke-dashoffset:0}47.5%{stroke-dasharray:42 150;stroke-dashoffset:-16}95%,100%{stroke-dasharray:42 150;stroke-dashoffset:-59}}</style><g class="spinner_V8m1"><circle cx="12" cy="12" r="9.5" fill="none" stroke-width="3"></circle></g></svg></div>
            </div>
            <div class="CoinModal">
                <span class="Coin__arrow"></span>
                <div class="coinModalContent">
            <div class="month-name-prnt">
            <button onclick="prevMonth()" class="prev"><i class="fa-solid fa-chevron-left"></i></button>
            <h2 id="month-name">September 2025</h2>
            <button onclick="nextMonth()" class="next"><i class="fa-solid fa-chevron-right"></i></button>
            </div>
            <div class="coin-list"></div> 
            </div>
            </div>
            <div class="amount-card flash">
                <img width="12px" height="12px" src="./imgs/flash.png" alt="">
                <span>3000</span>
            </div>
        </div>
        <div class="language-selection-container-modal">
            <div class="lang-slc-hdr">
                <h2>Sozlamalar</h2>
            <button class="close-lang-slc-btn"><i class="fa-solid fa-xmark close-lang"></i></button>
            </div>
            <div class="lang-slc-main">
                <button class="change-lang__btn">
                    <div class="lang">
                        <img src="./imgs/uzb.svg" alt="">
                        <p>O'zbekcha</p>
                    </div>
                    <label for="uzb">
                    <input type="radio" name="lang" id="uzb" checked>
                    </label>
                </button>
                <button class="change-lang__btn">
                    <div class="lang">
                        <img src="./imgs/rus.svg" alt="">
                        <p>Русский</p>
                    </div>
                    <label for="rus">
                    <input type="radio" name="lang" id="rus">
                    </label>
                </button>
            </div>
            <div class="lang-slc-foot">
                <button class="change-lang__confirm-btn"><p>Tasdiqlash</p></button>
            </div>
        </div>
        <div class="sidebar">
            <div class="sidebar-nav">
                <ul>
                    <li><a style="background-color: #fc6736; color: #fff;" aria-current="page" href="./main-page.html" class="sidebar-link"><i class="fa-solid fa-house"></i><span class="hidden md:block">Asosiy</span></a></li>
                    <li><a href="./my-courses.html" class="sidebar-link"><i class="fa-solid fa-book"></i><span class="hidden md:block">Kurslarim</span></a></li>
                    <li class="hidden md:block"><a href="./eduverse.html" class="sidebar-link"><i class="fa-solid fa-video"></i><span>Eduverse</span></a></li>
                    <li class="hidden md:block"><a href="./mars-code.html" class="sidebar-link"><i class="fa-brands fa-python"></i><span>&lt;MarsCode/&gt;</span></a></li>
                    <li><a href="./blog-page.html" class="sidebar-link"><i class="fa-solid fa-newspaper"></i><span class="hidden md:block">Blog</span></a></li>
                    <li><a href="./shop-page.html" class="sidebar-link"><i class="fa-solid fa-shop"></i><span class="hidden md:block">Space shop</span></a></li>
                </ul>
            </div>
            <div class="student-hero-wrapper">
                <div class="profile-hero sidebar-hero">
                    <div class="front"></div>
                    <div class="hero-head">
                        <img src="./imgs/Head.png" alt="head">
                    </div>
                    <div class="hero-body">
                        <img src="./imgs/DefaultBody.png" alt="body">
                    </div>
                    <div class="hero-feet">
                        <img src="./imgs/DefaultPants.png" alt="feet">
                    </div>
                </div>
            </div>
        </div>

        <li><button class="marsiana-circle-btn hidden md:block"><img src="./imgs/marsiana_btn.svg" alt="Marsiana"></button></li>
        <div class="marsiana-chat-modal fixed z-[99999] min-h-[485px] p-0.5 pointer-events-auto bg-gradient-to-br from-[#0599F5] via-[#0599F5] to-[#D104FF] rounded-2xl flex md:items-stretch justify-center bottom-4 w-[95%] md:bottom-8 md:w-[409px] shadow-[0_0_30px_rgba(0,0,0,0.3)] md:shadow-none left-1/2 translate-x-[-50%] md:translate-x-0 md:right-8 md:left-auto"><div class="marsiana-chat-modal-inner relative bg-white rounded-2xl w-full min-h-[485px] flex flex-col justify-between overflow-hidden md:backdrop-blur-none backdrop-blur-md"><div class="flex justify-end pt-4 pr-4 marsiana-chat-header"><button class="close-marsiana-btn flex items-center justify-center w-8 h-8 rounded-full bg-[#f6f9ff] text-[#393333] text-2xl transition-colors duration-200 hover:bg-[#f0f0f0] border-none"> × </button></div><div class="marsiana-chat-body flex-1 px-4 overflow-y-auto max-h-[409px] flex flex-col gap-2"><div class="my-2"><div class="flex justify-end"><span class="inline-block bg-[#E6EDFB] rounded-lg px-3 py-2 text-[#393333] max-w-[80%] whitespace-pre-line text-left border border-[#D7E1F3] text-base">hello</span></div></div><div class="my-2"><div class="flex justify-start"><span class="inline-block px-3 py-2 text-[#393333] max-w-[95%] whitespace-pre-line text-left text-base"><span>Error: Could not get response.</span></span></div></div><!----></div><div class="px-4 pb-4 marsiana-chat-input-wrapper"><form class="input-container flex items-center gap-2.5 bg-white rounded-full border border-[#b3c0da] px-4 py-1 shadow-none"><i class="fa-solid fa-magnifying-glass" style="color: rgb(178, 192, 218);"></i><input type="text" placeholder="How can I help" class="flex-1 py-2 text-base bg-transparent border-none outline-none chat-input placeholder-custom"><button class="send-btn flex items-center justify-center w-10 absolute right-6 h-10 rounded-full bg-[#f6f9ff] transition-colors duration-200 hover:bg-[#e1e1e1] border-none" disabled="" type="submit"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 21L23 12L2 3V10L17 12L2 14V21Z" fill="url(#paint0_linear)"></path><defs><linearGradient id="paint0_linear" x1="2" y1="3" x2="23" y2="21" gradientUnits="userSpaceOnUse"><stop stop-color="#0599F5"></stop><stop offset="1" stop-color="#D104FF"></stop></linearGradient></defs></svg></button></form></div></div></div>


        <main>
            <div class="main-page-main-cont">
                <div class="level-mini-map">
                    <button class="level-mini-map__button"><i class="fa-solid fa-up-right-and-down-left-from-center fa-xs" style="color: rgb(51, 51, 51);"></i> Batafsil</button>
                    <div class="flex items-center gap-2 p-2 border-stroke w-[256px] bg-white/50 rounded-lg backdrop-blur-[10px] absolute top-2 left-2 shadow-lg z-20"><div class="relative w-12 h-12"><img src="./imgs/1_10.36d85d46.png" class="w-12 h-12 rounded-full" alt="levels"><p class="absolute bottom-0 right-0 text-[10px] font-designer text-white px-[2px] rounded-sm bg-[#33B4FF]"> LVL </p><div class="flex absolute inset-0 justify-center items-center"><p class="text-[20px] font-bold text-white leading-none font-designer stroke-text">4</p></div></div><div><p class="text-[20px]">Darajangiz</p><div class="h-[10px] rounded-full bg-[#E5F6FF] max-w-full w-[170px] overflow-hidden"><div class="h-full bg-[#33B4FF] rounded-full transition-all duration-300" style="width: 50%;"></div></div></div></div>
                    <div class="map-container">
                        <div style="transform: translate(0px,-40px);" class="map-inner">
                            <div class="relative w-full h-full level-full-map"><div class="flex absolute justify-center items-center font-bold level-node cursor-pointer" style="left: 16%; top: 24%; width: 56px; height: 27px; border-radius: 50%; z-index: 2;"><span class="level-id-span">1</span><img src="./imgs/level_completed.29ee7e74.svg" alt="completed" class="object-contain absolute w-full h-full" draggable="false"></div><div class="flex absolute justify-center items-center font-bold level-node cursor-pointer" style="left: 35%; top: 32%; width: 56px; height: 27px; border-radius: 50%; z-index: 2;"><span class="level-id-span">2</span><img src="./imgs/level_completed.29ee7e74.svg" alt="completed" class="object-contain absolute w-full h-full" draggable="false"></div><div class="flex absolute justify-center items-center font-bold level-node cursor-pointer" style="left: 45%; top: 46%; width: 56px; height: 27px; border-radius: 50%; z-index: 2;"><span class="level-id-span">3</span><img src="./imgs/level_completed.29ee7e74.svg" alt="completed" class="object-contain absolute w-full h-full" draggable="false"></div><div class="flex absolute justify-center items-center font-bold level-node cursor-pointer" style="left: 22%; top: 65%; width: 56px; height: 27px; border-radius: 50%; z-index: 2;"><img src="./imgs/level_current.a42445bb.svg" alt="current" class="object-contain absolute w-full h-full" draggable="false"><img src="./imgs/map_current.f39dff90.svg" alt="current-indicator" class="absolute w-[56px] h-[70px] object-contain -top-14 left-1/2 -translate-x-1/2" draggable="false"></div><div class="flex absolute justify-center items-center font-bold level-node cursor-pointer selected-level" style="left: 34%; top: 79%; width: 56px; height: 27px; border-radius: 50%; z-index: 2;"><span class="level-id-span">5</span><img src="./imgs/level_locked.f13f3533.svg" alt="locked" class="object-contain absolute w-full h-full" draggable="false"></div><div class="flex absolute justify-center items-center font-bold level-node cursor-pointer" style="left: 54%; top: 76%; width: 56px; height: 27px; border-radius: 50%; z-index: 2;"><span class="level-id-span">6</span><img src="./imgs/level_locked.f13f3533.svg" alt="locked" class="object-contain absolute w-full h-full" draggable="false"></div><div class="flex absolute justify-center items-center font-bold level-node cursor-pointer" style="left: 68%; top: 61%; width: 56px; height: 27px; border-radius: 50%; z-index: 2;"><span class="level-id-span">7</span><img src="./imgs/level_locked.f13f3533.svg" alt="locked" class="object-contain absolute w-full h-full" draggable="false"></div><div class="flex absolute justify-center items-center font-bold level-node cursor-pointer" style="left: 55%; top: 53%; width: 56px; height: 27px; border-radius: 50%; z-index: 2;"><span class="level-id-span">8</span><img src="./imgs/level_locked.f13f3533.svg" alt="locked" class="object-contain absolute w-full h-full" draggable="false"></div><div class="flex absolute justify-center items-center font-bold level-node cursor-pointer" style="left: 64%; top: 40%; width: 56px; height: 27px; border-radius: 50%; z-index: 2;"><span class="level-id-span">9</span><img src="./imgs/level_locked.f13f3533.svg" alt="locked" class="object-contain absolute w-full h-full" draggable="false"></div><div class="flex absolute justify-center items-center font-bold level-node cursor-pointer" style="left: 75%; top: 22%; width: 56px; height: 27px; border-radius: 50%; z-index: 2;"><span class="level-id-span">10</span><img src="./imgs/level_locked.f13f3533.svg" alt="locked" class="object-contain absolute w-full h-full" draggable="false"></div></div>
                        </div>
                    </div>
                </div>
                <div class="main-navs-prnt">
                    <div class="bg-white rounded-lg p-2">
                        <p class="font-bold text-[20px] text-mainDark">Qo'shimcha dars</p>
                        <table class="w-full mt-1">
                            <thead>
                                <tr>
                                    <th class=""><div class="flex flex-col items-center"><span class="text-[#424242] text-[14px] font-[600]">Dush</span><button class="text-md mt-2 hover:bg-gray-100 w-[38px] h-8 flex items-center justify-center rounded-md bg-[#F6F9FF] disabled:opacity-80 disabled:cursor-not-allowed" disabled=""><i class="fa-solid text-md fa-plus text-[#B3C0DA]"></i></button></div></th>
                                    <th class=""><div class="flex flex-col items-center"><span class="text-[#424242] text-[14px] font-[600]">Sesh</span><button class="text-md mt-2 hover:bg-gray-100 w-[38px] h-8 flex items-center justify-center rounded-md bg-[#F6F9FF] disabled:opacity-80 disabled:cursor-not-allowed" disabled=""><i class="fa-solid text-md fa-plus text-[#B3C0DA]"></i></button></div></th>
                                    <th class=""><div class="flex flex-col items-center"><span class="text-[#424242] text-[14px] font-[600]">Chor</span><button class="text-md mt-2 hover:bg-gray-100 w-[38px] h-8 flex items-center justify-center rounded-md bg-[#F6F9FF] disabled:opacity-80 disabled:cursor-not-allowed" disabled=""><i class="fa-solid text-md fa-plus text-[#B3C0DA]"></i></button></div></th>
                                    <th class=""><div class="flex flex-col items-center"><span class="text-[#424242] text-[14px] font-[600]">Pay</span><button class="text-md mt-2 hover:bg-gray-100 w-[38px] h-8 flex items-center justify-center rounded-md bg-[#F6F9FF] disabled:opacity-80 disabled:cursor-not-allowed" disabled=""><i class="fa-solid text-md fa-plus text-[#B3C0DA]"></i></button></div></th>
                                    <th class=""><div class="flex flex-col items-center"><span class="text-[#009BF5] text-[14px] font-[600]">Jum</span><button class="text-md mt-2 hover:bg-gray-100 w-[38px] h-8 flex items-center justify-center rounded-md bg-[#F6F9FF] disabled:opacity-80 disabled:cursor-not-allowed"><i class="fa-solid text-md fa-plus text-[#B3C0DA]"></i></button></div></th>
                                    <th class=""><div class="flex flex-col items-center"><span class="text-[#424242] text-[14px] font-[600]">Shan</span><button class="text-md mt-2 hover:bg-gray-100 w-[38px] h-8 flex items-center justify-center rounded-md bg-[#F6F9FF] disabled:opacity-80 disabled:cursor-not-allowed"><i class="fa-solid text-md fa-plus text-[#B3C0DA]"></i></button></div></th>
                                </tr>
                            </thead>
                        </table>
                    </div>
                    <div class="eduverse-frame">
                        <div class="flex items-center gap-4">
                        <img src="./imgs/Eduverse.20039d58.png" class="w-[72px] h-[72px] object-contain" alt="eduverse">
                        <div>
                        <p style="color: rgb(179 192 218);" class="text-xl font-bold text-secondaryDark">Online kurs boshlanmagan</p>
                        <a href="./eduverse.html" class="edu-nav1"><button id="edu button-one" class="mt-2 cursor-pointer">Boshlash<i class="fa-solid fa-chevron-right text-[11px]"></i></button></a>
                        </div>
                        </div>
                    </div>
                    <div class="typing-frame">
                        <div class="flex items-center gap-4">
                            <img src="./imgs/keyboard.4957ff93.png" alt="typing" class="w-[72px] h-[72px] object-contain">
                            <div>
                                <p class="text-mainDark font-bold text-[20px]">Typing</p>
                                <p class="text-mainDark line-clamp-1 leading-none">Typing tezligini aniqlaymiz</p>
                                <a href="./mars-game.html" class="mars-game-nav"><button id="button-one" class="mt-2 cursor-pointer">Play<i class="fa-solid fa-chevron-right text-[11px]"></i></button></a>
                            </div>
                        </div>
                    </div>
                    <div class="current-lesson-frame">
                        <div class="flex items-center gap-4">
                            <img src="./imgs/challenge-hw.cdb4c2ab.png" alt="current-lesson-frame" class="w-[72px] h-[72px] object-contain">
                            <div>
                                <p class="font-bold text-[20px] text-secondaryDark" style="color: rgb(178, 192, 218);">Dars topilmadi</p>
                                <a href="./my-courses.html" class="courses-nav"><button id="button-one" class="mt-2 cursor-pointer">Boshlash<i class="fa-solid fa-chevron-right text-[11px]"></i></button></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        

        <div class="swiper top-[102px] right-0 z-10 max-w-[284px] w-full ml-5 pr-8 max-h-[calc(100vh-102px)] overflow-y-auto no-scrollbar">
  <div class="swiper-wrapper">
    <div class="swiper-slide"><img src="./imgs/premium.jpg" alt=""></div>
    <div class="swiper-slide"><img style="height: 520px !important;" src="./imgs/dars_copy_3_9Gtd2iu.jpg" alt=""></div>    
  </div>
  <div class="swiper-pagination"></div>

  <div class="swiper-button-prev"></div>
  <div class="swiper-button-next"></div>

</div>


        <div class="level-wrapper-modal">
            <button class="lvl-modal-close"><i class="fa fa-times"></i></button>
                <div class="lvl-wrp-mdl-body">
                <div class="level-mini-map">
                    <div class="map-container">
                        <div style="transform: translate(0px,-40px);" class="map-inner">
                            <div class="relative w-full h-full level-full-map"><div class="flex absolute justify-center items-center font-bold level-node cursor-pointer" style="left: 18%; top: 27%; width: 56px; height: 27px; border-radius: 50%; z-index: 2;"><span class="level-id-span">1</span><img src="./imgs/level_completed.29ee7e74.svg" alt="completed" class="object-contain absolute w-full h-full" draggable="false"></div><div class="flex absolute justify-center items-center font-bold level-node cursor-pointer" style="left: 35%; top: 34%; width: 56px; height: 27px; border-radius: 50%; z-index: 2;"><span class="level-id-span">2</span><img src="./imgs/level_completed.29ee7e74.svg" alt="completed" class="object-contain absolute w-full h-full" draggable="false"></div><div class="flex absolute justify-center items-center font-bold level-node cursor-pointer" style="left: 45%; top: 46%; width: 56px; height: 27px; border-radius: 50%; z-index: 2;"><span class="level-id-span">3</span><img src="./imgs/level_completed.29ee7e74.svg" alt="completed" class="object-contain absolute w-full h-full" draggable="false"></div><div class="flex absolute justify-center items-center font-bold level-node cursor-pointer" style="left: 22%; top: 65%; width: 56px; height: 27px; border-radius: 50%; z-index: 2;"><img src="./imgs/level_current.a42445bb.svg" alt="current" class="object-contain absolute w-full h-full" draggable="false"><img src="./imgs/map_current.f39dff90.svg" alt="current-indicator" class="absolute w-[56px] h-[70px] object-contain -top-14 left-1/2 -translate-x-1/2" draggable="false"></div><div class="flex absolute justify-center items-center font-bold level-node cursor-pointer selected-level" style="left: 34%; top: 77%; width: 56px; height: 27px; border-radius: 50%; z-index: 2;"><span class="level-id-span">5</span><img src="./imgs/level_locked.f13f3533.svg" alt="locked" class="object-contain absolute w-full h-full" draggable="false"></div><div class="flex absolute justify-center items-center font-bold level-node cursor-pointer" style="left: 54%; top: 73.5%; width: 56px; height: 27px; border-radius: 50%; z-index: 2;"><span class="level-id-span">6</span><img src="./imgs/level_locked.f13f3533.svg" alt="locked" class="object-contain absolute w-full h-full" draggable="false"></div><div class="flex absolute justify-center items-center font-bold level-node cursor-pointer" style="left: 68%; top: 61%; width: 56px; height: 27px; border-radius: 50%; z-index: 2;"><span class="level-id-span">7</span><img src="./imgs/level_locked.f13f3533.svg" alt="locked" class="object-contain absolute w-full h-full" draggable="false"></div><div class="flex absolute justify-center items-center font-bold level-node cursor-pointer" style="left: 55%; top: 53%; width: 56px; height: 27px; border-radius: 50%; z-index: 2;"><span class="level-id-span">8</span><img src="./imgs/level_locked.f13f3533.svg" alt="locked" class="object-contain absolute w-full h-full" draggable="false"></div><div class="flex absolute justify-center items-center font-bold level-node cursor-pointer" style="left: 67%; top: 38%; width: 56px; height: 27px; border-radius: 50%; z-index: 2;"><span class="level-id-span">9</span><img src="./imgs/level_locked.f13f3533.svg" alt="locked" class="object-contain absolute w-full h-full" draggable="false"></div><div class="flex absolute justify-center items-center font-bold level-node cursor-pointer" style="left: 75%; top: 26%; width: 56px; height: 27px; border-radius: 50%; z-index: 2;"><span class="level-id-span">10</span><img src="./imgs/level_locked.f13f3533.svg" alt="locked" class="object-contain absolute w-full h-full" draggable="false"></div></div>
                        </div>
                    </div>
                </div>
                <div class="lvl-mdl-right-side">
                    <div class="flex items-center gap-2 px-3 py-4">
                        <div class="relative w-12 h-12"><img src="/imgs/1_10.36d85d46.png" class="w-12 h-12 rounded-full" alt="levels"><p class="absolute bottom-0 right-0 text-[10px] font-designer text-white px-[2px] rounded-sm bg-[#33B4FF]"> LVL </p><div class="flex absolute inset-0 justify-center items-center"><p style="-webkit-text-stroke: 0.5px rgb(51, 51, 51); text-shadow: rgba(0, 0, 0, 0.5) 0px 0.5px 4px;" class="text-[20px] font-bold text-white leading-none font-designer stroke-text">4</p></div></div>
                    <div><p class="text-[20px]">Darajangiz</p><div class="h-[10px] rounded-full bg-[#E5F6FF] w-[170px] overflow-hidden"><div class="h-full bg-[#33B4FF] rounded-full transition-all duration-300" style="width: 50%;"></div></div></div>
                    </div>
                    <div class="overflow-y-auto flex-1 px-3 py-4"><div class="gap-4 flex flex-col level_items" rewards="[object Object]"><div class="flex items-center gap-2 challenge-item"><i class="fa-solid text-green-500 fa-circle-check"></i><div><p class="font-medium text-mainDark">XP ballari – 300 XP ga erishing</p><p class="text-secondaryDark text-[14px]" style="color: #b3c0da;">Space o'yinlarida o'ynab 300 XP yig'ing</p></div></div><div class="flex items-center gap-2 challenge-item"><i class="fa-solid text-[#E5F6FF] fa-circle"></i><div><p class="font-medium text-mainDark">1 ta QueensGame topshirig'i</p><p style="color: #b3c0da;" class="text-secondaryDark text-[13px]">MarsIT mobil ilovasida 1 ta QueensGame topshirig'ini bajaring</p></div></div></div></div>
                    <div class="flex gap-4 items-center justify-center">
                        <div class="coin__reward">
                            <span class="shine"></span>
                            <img width="36" height="36" src="./imgs/Coin.svg" alt="">
                            <p class="text-2xl text-white">5</p>
                        </div>
                        <div class="shirt__reward">
                            <span class="shine"></span>
                            <img src="./imgs/ItemSunglasses.png" alt="">
                        </div>
                    </div>
                    <a class="next-level-modal-opener block text-center underline cursor-pointer" style="color: rgb(0 169 241);">Keyingi darajaga o’ting</a>
                </div>
                </div>
            </div>
            <div class="next-level-modal">
                <div class="relative w-[150px] h-[150px] mb-4"><img src="./imgs/1_10.36d85d46.png" class="w-[150px] h-[150px] rounded-full object-cover" alt="default"><p class="absolute bottom-0 right-0 text-[20px] font-designer text-white px-1 rounded-sm bg-[#33B4FF]"> LVL </p><div data-v-b7826d08="" class="flex absolute inset-0 justify-center items-center"><p style="-webkit-text-stroke: 1px rgb(51, 51, 51); text-shadow: rgba(0, 0, 0, 0.5) 0px 3px 4px;" class="text-[90px] font-bold text-white leading-none font-designer stroke-text">5</p></div></div>
                <p class="lvl-modal-text mb-4 text-lg font-semibold text-center text-gray-700 w-[70%]">5<img src="./imgs/Coin.svg" class="inline w-[18px] h-[18px] mx-[2px] translate-y-[-2px]" alt="coin"> coin evaziga keying darajaga o'ting</p>
                <button aria-disabled="false" type="button" class="next-level-button el-button el-button--primary w-full p-5 text-[16px]"><!--v-if--><span class="">Keyingi darajaga o’ting</span></button>
            </div>
            <div class="double-overlay"></div>
            <div class="get-next-lvl-modal">
                <div class="get-next-lvl-content">
                    <button class="close-get-next-lvl-modal-button"><i class="fa-solid fa-xmark"></i></button>
                    <div class="coin-box3"><div class="coin-box2"><div class="coin-box1"><p style="-webkit-text-stroke: 1px rgb(51, 51, 51); text-shadow: rgba(0, 0, 0, 0.5) 0px 3px 4px; background-color: #fc673696; border-radius: 50%;padding: 10px; width: 130px; height: 130px;" class="text-white text-[100px] font-bold font-designer flex justify-center items-center">5</p></div></div></div>
                    <div class="flex gap-4 items-center justify-center">
                        <div class="coin__reward second">
                            <span class="shine"></span>
                            <img width="80" height="80" src="./imgs/Coin.svg" alt="">
                            <p class="text-4xl text-white">5</p>
                        </div>
                        <div class="shirt__reward second">
                            <span class="shine"></span>
                            <img src="./imgs/ItemSunglasses.png" alt="">
                        </div>
                    </div>
                    <p class="font-sans text-2xl text-white text-center">Tabriklaymiz! Siz quyidagi sovg'alarni yutib oldingiz!</p>
                    <div class="coin-box-text text-center"><p class="mt-0 font-sans text-2xl text-white">5 - darajaga ko'tarildingiz</p></div>
                    <div class="mt-0 text-center"><button class="close-get-next-lvl-modal-btn px-4 py-2 bg-white rounded-lg text-mainDark hover:opacity-90 cursor-pointer"> Davom etish </button></div>
                </div>
            </div>
    </section>

    <img src="./imgs/image.png" alt="">
    <img src="./imgs/image.png" alt="">
    <img src="./imgs/image.png" alt="">
    <img src="./imgs/image.png" alt="">
    <img src="./imgs/image.png" alt="">
    <img src="./imgs/image.png" alt="">
    <img src="./imgs/image.png" alt="">
    <img src="./imgs/image.png" alt="">


    <div class="confetti-container" id="confettiBox"></div>

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.3/howler.min.js"></script>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-app.js";
import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/12.3.0/firebase-database.js";

// Firebase config
const firebaseConfig = {
  apiKey: "AIzaSyCvPqWuVmL3x7lGfkUV-ma1UHmz7rx__Rs",
  authDomain: "marsspace-48b62.firebaseapp.com",
  databaseURL: "https://marsspace-48b62-default-rtdb.firebaseio.com",
  projectId: "marsspace-48b62",
  storageBucket: "marsspace-48b62.firebasestorage.app",
  messagingSenderId: "983536140625",
  appId: "1:983536140625:web:084c07906ea2d9bfced370",
  measurementId: "G-VDHG39ZRR1"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

const modal = document.querySelector(".default-notification-of-coin");
const divSum = document.getElementById("coinsSumDisplay");
const divValue = document.getElementById("coinsValueDisplay");
const overlay = document.querySelector('.overlay');
const notificationsContainer = document.getElementById("notificationsContainer");

const ding = new Howl({
  src: ["./coin.mp3"],
  volume: 1.0,
  html5: true
});

document.addEventListener("click", () => {
  if (Howler.ctx.state === "suspended") Howler.ctx.resume();
}, { once: true });

let lastSeenTime = Number(localStorage.getItem("lastSeenTime") || 0);

onValue(ref(db, "coinsSum"), (snap) => {
  divSum.textContent = +(snap.val() ?? 0);
});

const monthNames = document.querySelectorAll('#month-name');
const coinLists = document.querySelectorAll('.coin-list');
const monthNamePrnt = document.querySelector('.month-name-prnt');

// 🔹 Главная функция отрисовки
function renderTableFromFirebase(data) {
  // Группируем по месяцам
  const grouped = {};

  data.forEach(item => {
    const dateObj = new Date(item.time);

    // Формат даты: 07-October-2025
    const formattedDate = dateObj.toLocaleDateString("en-GB", {
      day: "2-digit",
      month: "long",
      year: "numeric"
    }).replace(/ /g, "-");

    const [day, month, year] = formattedDate.split("-");
    const monthKey = `${month} ${year}`;

    if (!grouped[monthKey]) grouped[monthKey] = [];

    grouped[monthKey].push({
      data: formattedDate,
      coins: `+${item.value}`,
      time: item.time
    });
  });

  // Сортируем месяцы по убыванию (новые выше)
  const months = Object.keys(grouped).sort((a, b) => {
    const [monthA, yearA] = a.split(" ");
    const [monthB, yearB] = b.split(" ");
    return new Date(`${monthB} 1, ${yearB}`) - new Date(`${monthA} 1, ${yearA}`);
  });

  // Берем первый месяц (самый новый)
  const currentMonth = months[0];

  monthNames.forEach(el => (el.innerText = currentMonth));
  monthNamePrnt.style.display = 'flex';

  coinLists.forEach(table => {
    table.innerHTML = "";

    // ❗ Сортируем по убыванию времени — последние сверху
    const sortedEntries = grouped[currentMonth]?.sort((a, b) => b.time - a.time) || [];

    

    // ✅ Если данные есть, рендерим список
    sortedEntries.forEach(entry => {
      const row = document.createElement("div");
      row.className = "flex justify-between items-center p-2 gap-3 border-b border-gray-200";
      row.innerHTML = `
        <span class="text-gray-700">${entry.data}</span>
        <span class="flex gap-0.5 justify-center items-center bg-green-100 text-green-700 px-2 py-1 rounded-lg text-sm">
          ${entry.coins} <img width="12" height="12" src="./imgs/Coin.svg" alt="">
        </span>
      `;
      table.appendChild(row);
    });
  });
}


onValue(ref(db, "coinsList"), (snapshot) => {
    const data = snapshot.val();
    if (!data) {
      notificationsContainer.innerHTML = "<p style='text-align:center;color:gray;'>Hali hech qanday bildirishnomalar yo'q</p>";
      return;
    }

    // Сортируем по времени
    const entries = Object.values(data).sort((a, b) => b.time - a.time);

    // Очищаем контейнер
    notificationsContainer.innerHTML = "";

    entries.forEach(item => {
      const date = new Date(item.time);
      const formattedDate = date.toLocaleDateString("en-GB", {
        day: "2-digit",
        month: "short",
        year: "numeric"
      });
      const formattedTime = date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });

      const div = document.createElement("div");
      div.className = "notification-item";
      div.innerHTML = `
        <img width="35px" height="35px" src="./imgs/Coin.svg" alt="">
        <div class="notification-content">
          <h4>Siz coin oldingiz: ${item.value}</h4>
          <p>${formattedDate} ${formattedTime}</p>
        </div>
      `;
      notificationsContainer.appendChild(div);
    });
  });

// 🟢 Загружаем все начисления
onValue(ref(db, "coinsList"), (snap) => {
  const dataFB = snap.val();
  if (!dataFB) return;

  const entries = Object.values(dataFB).sort((a, b) => a.time - b.time);
  let newCoins = 0;

  for (const item of entries) {
    if (item.time > lastSeenTime) {
      newCoins += item.value;
      lastSeenTime = item.time;
    }
  }

  if (newCoins > 0) {
    modal.style.display = 'flex';
    const Confcontainer = document.getElementById('confettiBox');
    Confcontainer.style.display = 'block';
    overlay.classList.add('active');
    document.body.style.overflow = 'hidden';
    ding.play();
    shootConfetti();
    localStorage.setItem("lastSeenTime", lastSeenTime);
  }

  const lastItem = entries.at(-1);
  if (lastItem) divValue.textContent = +lastItem.value;

  // 🔸 Отрисовываем всю историю коинов
  renderTableFromFirebase(entries);
});

    </script>
    <script src="main.js"></script>
</body>
</html>
